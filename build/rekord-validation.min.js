/* rekord-validation 1.5.0 - Advanced validation rules for rekord by Philip Diffenderfer */
!function(e,t){"function"==typeof define&&define.amd?define(["rekord"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(global,require("rekord")):e.Rekord=t(e,e.Rekord)}(this,function(e,t,n){function a(e,t,n,a){this.model=e,this.field=t,this.validations=n,this.onEnd=a}function i(e){var t=parseFloat(e);return isNaN(t)||(e=t),e}function r(e){var t=parseInt(e);return isNaN(t)||(e=t),e}function s(e){return N(e)?e.setHours(0,0,0,0):T(e)&&(e-=e%864e5),e}function u(e){return N(e)?e.setHours(23,59,59,999):T(e)&&(e=e-e%864e5+864e5-1),e}function l(e,t,n){K.Rules[e]=function(t,a,i,r,s){d(e,t,a);var u=o(e,s);return function(e,a,i){n(e,a,i)?i.invalid(h(t,r(t),e,a,u)):i.next()}},K.Rules[e].message=t}function o(e,t){return t||K.Rules[e].message}function f(e,t,n,a){var i=e.slice();if(a)for(var r=0;r<i.length;r++)i[r]=a(i[r]);var s=i.pop(),u=t||"and",l=n||", ";switch(i.length){case 0:return s;case 1:return i[0]+" "+u+" "+s;default:return i.join(l)+l+u+" "+s}}function c(e,t){for(var n={},a=0;a<e.length;a++)n[e[a]]=t;return n}function d(e,t,n){if(n)throw"the rule "+e+" for field "+t+" has no arguments"}function h(e,t,n,a,i,r){V(i)&&(i=i(e,t,n,a,r));var s={};return s.$field=e,s.$alias=t,s.$value=n,U(a,s),z(r)&&U(r,s),B(i,s)}function v(e,t,n){K.Rules[e]=function(t,a,i,r,s){if(!a)throw e+" validation rule requires field & value arguments";var u,l,f;if(j(a)){var c=a.indexOf(",");if(-1===c)throw e+" validation rule requires field & value arguments";u=a.substring(0,c),l=a.substring(c+1)}else M(a)?(u=a[0],l=a[1],f=a[2]):z(a)&&(u=a.field,l=a.value,f=a.equals);if(V(f)||(f=Y),-1===L(i.fields,u))throw u+" is not a valid field for the "+e+" rule";var d=o(e,s),v={$matchField:u,$matchAlias:r(u),$matchValue:l};return function(e,a,i){n(e,a,u,l,f)?i.invalid(h(t,r(t),e,a,d,v)):i.next()}},K.Rules[e].message=t}function m(e,t,n){K.Rules[e]=function(t,a,i,r,s){if(!a)throw e+" validation rule requires a date expression argument";var u;if(j(a))u=K.parseExpression(a,i);else if(V(a))u=a;else{var l=J(a);if(l!==!1){var f=l.getTime();u=function(){return f}}}if(!u||u===S)throw a+" is not a valid date expression for the "+e+" rule";var c=o(e,s),d={$date:a};return function(e,a,i){var s=J(e);if(s!==!1){e=s.getTime();var l=u(e,a);T(l)&&n(e,l)?i.invalid(h(t,r(t),e,a,c,d)):i.next()}else i.next()}},K.Rules[e].message=t}function $(e,t,n){K.Rules[e]=function(t,a,i,r,s){if(!a)throw e+" validation rule requires a field and list arguments";var u,l;if(j(a)){var d=H(a,/(,)/,"\\");u=d.shift(),l=d}else M(a)?(u=a.shift(),l=a):z(a)&&(u=a.field,l=a.values);if(L(i.fields,u)===!1)throw u+" is not a valid field for the "+e+" rule";var v=o(e,s),m=f(l),$={$params:a,$matchField:u,$matchAlias:r(u),$list:m},g=c(l,!0);return function(e,a,i){n(e,a,u,l,g)?i.invalid(h(t,r(t),e,a,v,$)):i.next()}},K.Rules[e].message=t}function g(e,t,n){K.Rules[e]=function(t,a,i,r,s){if(!a)throw e+" validation rule requires an array of fields argument";for(var u=H(a,/(\s*,\s*)/,"\\"),l=0;l<u.length;l++)if(-1===L(i.fields,u[l]))throw u[l]+" is not a valid field for the "+e+" rule";var c=o(e,s),d=f(u),v=f(u,!1,!1,r),m={$fields:d,$fieldAliases:v};return function(e,a,i){n(e,a,u,i)?i.invalid(h(t,r(t),e,a,c,m)):i.next()}},K.Rules[e].message=t}function p(e,n,a){K.Rules[e]=function(n,i,r,s,u){var l,f,c;if(!P(i)||j(i)){var d=H(i||"",/(\s*,\s*)/,"\\");l=d[0]||r.name,c=d[1]||n,f=null}else M(i)?(l=j(i[0])?i.shift():r.name,c=j(i[0])?i.shift():n,f=new A(r,i)):z(i)&&(l=i.model||r.name,c=i.field||n,f=i.models);if(!f){if(!l)throw"model, model class, or models is required for "+e+" rule";j(l)?t.get(l).success(function(e){f=e.all()}):Z(l)&&(f=l.all())}if(L(r.fields,c)===!1)throw c+" is not a valid field for the "+e+" rule";var v=o(e,u),m={$class:l,$matchField:c,$matchAlias:s(c)};return function(e,t,i){f&&P(e)&&a(e,t,f,c)?i.invalid(h(n,s(n),e,t,v,m)):i.next()}},K.Rules[e].message=n}function b(e,t){K.Rules[e]=function(n,i,r,s,u){if(!i)throw e+" validation rule requires a validation rule argument";var l,o;if(j(i)){var f=i.indexOf(":");if(-1===f)throw i+" is not a valid argument for the "+e+" rule";l=i.substring(0,f)||n,o=i.substring(f+1)}else M(i)?(l=i.shift()||n,o=i):z(i)&&(l=i.field||n,o=i.rules);if(-1===L(r.fields,l))throw l+" is not a valid field for the "+e+" rule";if(!o)throw"rules are required for the "+e+" rule";var c=K.parseRules(o,l,r,s);return function(e,i,r){for(var s=0,u=0,o=function(e){e.valid||s++,++u===c.length&&(t(s,u)?r.stop():r.next())},f=l===n?e:i.$get(l),d=0;d<c.length;d++){var h=new a(i,l,[c[d]],o);h.start(f)}}}}function x(e,t,n){K.Rules[e]=function(t,a,i,r,s){if(!a)throw e+" validation rule requires a list argument";var u,l=!1;if(j(a)?u=H(a,/(,)/,"\\"):M(a)?u=a:V(a)&&(u=l),l!==!1&&(!u||0===u.length))throw a+" is not a valid list of values for the "+e+" rule";if(I(u)){var d=c(u,!0);l=function(e){return d[e]}}else l=function(e){return L(u,e,C)};var v=o(e,s),m=f(u,"or"),$={$params:a,$list:m};return function(e,a,i){n(e,a,l)?i.invalid(h(t,r(t),e,a,v,$)):i.next()}},K.Rules[e].message=t}function R(e,t,n){K.Rules[e]=function(t,a,i,r,s){if(!a)throw e+" validation rule requires a range argument";var u,l;if(j(a)){var f=H(a,/(\s*,\s*)/,"\\");u=parseFloat(f[0]),l=parseFloat(f[1])}else M(a)?(u=a[0],l=a[1]):z(a)&&(u=a.start,l=a.end);if(isNaN(u)||isNaN(l))throw a+" is not a valid range of numbers for the "+e+" rule";j(s)&&(s={string:s,number:s,object:s});var c=o(e,s),d={$start:u,$end:l};return function(e,a,i){var s=W(e),o=typeof e,f=c[o];f&&n(s,u,l)?(d.$size=s,i.invalid(h(t,r(t),e,a,f,d))):i.next()}},K.Rules[e].message=t}function w(e,t,n){K.Rules[e]=function(t,a,i,r,s){d(e,t,a);var u=o(e,s);return function(e,a,i){return n.test(e)?i.next():i.invalid(h(t,r(t),e,a,u)),e}},K.Rules[e].message=t}function y(e,t,n){K.Rules[e]=function(t,a,i,r,s){var u;if(j(a)?u=parseFloat(a):T(a)&&(u=a),isNaN(u))throw'"'+a+'" is not a valid number for the '+e+" rule";j(s)&&(s={string:s,number:s,object:s});var l=o(e,s),f={$number:a};return function(e,a,i){var s=W(e),o=typeof e,c=l[o];c&&n(s,u)?(f.$size=s,i.invalid(h(t,r(t),e,a,c,f))):i.next()}},K.Rules[e].message=t}var q=t.Model,E=t.Database,_=t.Promise,F=t.Collection,A=t.ModelCollection,D=t.Class,k=t.isEmpty,j=t.isString,M=t.isArray,z=t.isObject,V=t.isFunction,N=t.isDate,T=t.isNumber,G=t.isBoolean,P=t.isValue,I=t.isPrimitiveArray,O=t.isRegExp,Z=t.isRekord,S=t.noop,Y=t.equalsCompare,C=t.equals,L=t.indexOf,W=t.sizeof,H=t.split,U=t.transfer,B=t.format,J=t.parseDate;D.create(a,{reset:function(e){this.value=e!==n?e:this.model.$get(this.field),this.updated=!1,this.valid=!0,this.message="",this.linkIndex=0},start:function(e){this.reset(e),this.call()},call:function(){this.validations[this.linkIndex](this.value,this.model,this)},update:function(e){return this.value=e,this.updated=!0,this},next:function(){var e=this.validations.length;return this.linkIndex++,this.linkIndex===e?this.onEnd(this):this.linkIndex<e&&this.call(),this},stop:function(){var e=this.validations.length;return this.linkIndex<e&&(this.linkIndex=e-1,this.next()),this},invalid:function(e){return this.message=e,this.valid=!1,this.stop(),this}}),t.addPlugin(function(e,i,r){function s(e){return f[e]||e}var u=r.validation||E.Defaults.validation;if(!k(u)){var l=u.rules||{},o=u.messages||{},f=u.aliases||{},c=!!u.required;i.validations={};for(var d in l)i.validations[d]=K.parseRules(l[d],d,i,s,o[d]);D.method(e,"$validate",function(e,t){this.$trigger(q.Events.PreValidate,[this]),this.$valid=!0,this.$validations={},this.$validationMessages.length=0;var n=0,r=[],s=function(a){var i=a.model;a.valid||(i.$validations[a.field]=a.message,i.$validationMessages.push(a.message),i.$valid=!1),++n===r.length&&(i.$trigger(i.$valid?q.Events.ValidatePass:q.Events.ValidateFail,[i]),V(e)&&e.call(t||i,i.$valid))};for(var u in i.validations){var l=i.validations[u],o=new a(this,u,l,s);r.push(o)}for(var f=0;f<r.length;f++)r[f].start();return this.$valid}),D.replace(e,"$init",function(e){return function(){return this.$valid=n,this.$validations={},this.$validationMessages=[],e.apply(this,arguments)}}),c&&D.replace(e,"$save",function(e){return function(){if(this.$isDeleted())return t.debug(t.Debugs.SAVE_DELETED,this.$db,this),_.resolve(this);var n=new t.Promise,a=this,i=arguments;return this.$validate(function(t){if(t){var r=e.apply(a,i);r.then(n.resolve,n.reject,n.noline,n.cancel,n)}else n.reject(a)}),n}})}}),q.Events.PreValidate="pre-validate",q.Events.ValidatePass="validate-pass",q.Events.ValidateFail="validate-fail";var K={Rules:{},Expression:{},Expressions:[],Delimiter:/([|])/,Escape:"\\",RuleSeparator:":",Stop:{},parseRules:function(e,t,a,i,r){var s=[];if(j(e)&&(e=H(e,this.Delimiter,this.Escape)),M(e))for(var u=0;u<e.length;u++){var l=e[u],o=this.parseRule(l,t,a,i,r);s.push(o)}else if(z(e))for(var f in e){var c=e[f],d=z(c)?c.message:j(c)?c:n,h=z(c)&&c.message?c.input:j(c)?n:c,v=this.parseRule(f,t,a,i,d||r,h);s.push(v)}return s},parseRule:function(e,t,n,a,i,r){var s=e.indexOf(this.RuleSeparator),u=-1===s?e:e.substring(0,s);if("$"===u.charAt(0))return this.customValidator(u,t,n,a,i);var l=-1===s?r:e.substring(s+1),o=K.Rules[u];if(!o)throw u+" is not a valid rule";return o(t,l,n,a,i)},parseExpression:function(e,t){for(var n=K.Expressions,a=0;a<n.length;a++){var i=n[a],r=i(e,t);if(V(r))return r}return S},customValidator:function(e,t,n,a,i){return function(t,n,r){var s=n[e](t,a,i,r);j(s)?r.invalid(s):s!==!1&&r.next()}}};K.Expression.date=K.Expressions.push(function(e,t){var n=J(e);if(n!==!1){var a=n.getTime();return function(e,t){return a}}})-1,K.Expression.field=K.Expressions.push(function(e,t){return L(t.fields,e)?function(t,n){return n.$get(e)}:void 0})-1;var Q=/^([+-]\d+(\.\d+)?)\s*(.+)$/,X={ms:1,millisecond:1,milliseconds:1,s:1e3,second:1e3,seconds:1e3,min:6e4,mins:6e4,minute:6e4,minutes:6e4,hr:36e5,hour:36e5,hours:36e5,day:864e5,days:864e5,wk:6048e5,week:6048e5,weeks:6048e5,month:["getMonth","setMonth"],months:["getMonth","setMonth"],yr:["getFullYear","setFullYear"],year:["getFullYear","setFullYear"],years:["getFullYear","setFullYear"]};return K.Expression.relative=K.Expressions.push(function(e,t){var n=Q.exec(e);if(null!==n){var a=parseFloat(n[1]),i=n[3],r=X[i];if(!r)throw i+" is not a valid unit.";return function(e,t){var n=new Date;if(T(r))n.setTime(n.getTime()+r*a);else{var i=r[0],s=r[1];n[s](n[i]()+a)}return n.getTime()}}})-1,K.Expression.today=K.Expressions.push(function(e,t){return"today"===e?function(e,t){var n=new Date;return s(n),n.getTime()}:void 0})-1,K.Expression.tomorrow=K.Expressions.push(function(e,t){return"tomorrow"===e?function(e,t){var n=new Date;return n.setDate(n.getDate()+1),s(n),n.getTime()}:void 0})-1,K.Expression.yesterday=K.Expressions.push(function(e,t){return"yesterday"===e?function(e,t){var n=new Date;return n.setDate(n.getDate()-1),s(n),n.getTime()}:void 0})-1,K.Rules.accepted=function(e,t,n,a,i){d("accepted",e,t);var r=o("accepted",i),s=K.Rules.accepted.acceptable;return function(t,n,i){var u=(t+"").toLowerCase(),l=s[u];l?i.next():i.invalid(h(e,a(e),t,n,r))}},K.Rules.accepted.message="{$alias} has not been accepted.",K.Rules.accepted.acceptable={1:!0,yes:!0,on:!0,y:!0,"true":!0},v("contains","{$alias} does not contain an item whose {$matchAlias} equals {$matchValue}.",function(e,t,n,a,i){return!e.contains(function(e){return e!==t&&i(a,e.$get(n))})}),v("not_contains","{$alias} contains an item whose {$matchAlias} equals {$matchValue}.",function(e,t,n,a,i){return e.contains(function(e){return e!==t&&i(a,e.$get(n))})}),K.Rules.validate=function(e,t,n,a,i){var r=t||"message",s=o("validate",i);return function(t,n,i){if(M(t)){for(var u=new F,l=0;l<t.length;l++){var o=t[l];o&&o.$validate&&!o.$validate()&&u.push(o)}if(u.length)switch(r){case"models":i.invalid(u);break;case"validations":i.invalid(u.pluck("$validations","$$key"));break;default:i.invalid(h(e,a(e),t,n,s))}else i.next()}else i.next()}},K.Rules.validate.message="{$alias} is not valid.",m("after","{$alias} must be after {$date}.",function(e,t){return e<u(t)}),m("after_on","{$alias} must be after or equal to {$date}.",function(e,t){return t>e}),m("before","{$alias} must be before {$date}.",function(e,t){return e>t}),m("before_on","{$alias} must be before or equal to {$date}.",function(e,t){return e>u(t)}),l("date_like","{$alias} must be a valid date.",function(e,t,n){var a=J(e),i=a===!1;return i||n.update(a.getTime()),i}),$("required_if","{$alias} is required.",function(e,t,n,a,i){var r=i[t.$get(n)];return r&&k(e)}),$("required_unless","{$alias} is required.",function(e,t,n,a,i){var r=!i[t.$get(n)];return r&&k(e)}),g("confirmed","{$alias} must match {$fieldAliases}.",function(e,t,n,a){for(var i=!0,r=0;r<n.length;r++)C(e,t.$get(n[r]))||(i=!1);return!i}),g("different","{$alias} must not match {$fieldAliases}.",function(e,t,n,a){for(var i=!1,r=0;r<n.length;r++)C(e,t.$get(n[r]))||(i=!0);return!i}),g("if_valid","",function(e,t,n,a){for(var i=!0,r=0;r<n.length&&i;r++)t.$validations[n[r]]&&(i=!1);return i||a.stop(),!1}),g("required_with","{$alias} is required.",function(e,t,n,a){for(var i=!1,r=0;r<n.length&&!i;r++)k(t.$get(n[r]))||(i=!0);return i&&k(e)}),g("required_with_all","{$alias} is required.",function(e,t,n,a){for(var i=!0,r=0;r<n.length&&i;r++)k(t.$get(n[r]))&&(i=!1);return i&&k(e)}),g("required_without","{$alias} is required.",function(e,t,n,a){for(var i=!1,r=0;r<n.length&&!i;r++)k(t.$get(n[r]))&&(i=!0);return i&&k(e)}),g("required_without_all","{$alias} is required.",function(e,t,n,a){for(var i=!0,r=0;r<n.length&&i;r++)k(t.$get(n[r]))||(i=!1);return i&&k(e)}),p("exists","{$alias} must match an existing {$matchAlias} in a {$class}",function(e,t,n,a){return!n.contains(function(n){return n!==t&&C(e,n.$get(a))})}),p("unique","{$alias} must be a unique {$matchAlias} in a {$class}",function(e,t,n,a){return n.contains(function(n){return n!==t&&C(e,n.$get(a))})}),b("if",function(e,t){return e>0}),b("if_any",function(e,t){return e>=t}),b("if_not",function(e,t){return t>e}),x("in","{$alias} must be one of {$list}.",function(e,t,n){return!n(e,t)}),x("not_in","{$alias} must not be one of {$list}.",function(e,t,n){return n(e,t)}),R("between",{string:"{$alias} must have between {$start} to {$end} characters.",number:"{$alias} must be between {$start} and {$end}.",object:"{$alias} must have between {$start} to {$end} items."},function(e,t,n){return t>e||e>n}),R("not_between",{string:"{$alias} must not have between {$start} to {$end} characters.",number:"{$alias} must not be between {$start} and {$end}.",object:"{$alias} must not have between {$start} to {$end} items."},function(e,t,n){return e>=t&&n>=e}),w("alpha","{$alias} should only contain alphabetic characters.",/^[a-zA-Z]*$/),w("alpha_dash","{$alias} should only contain alpha-numeric characters, dashes, and underscores.",/^[a-zA-Z0-9_-]*$/),w("alpha_num","{$alias} should only contain alpha-numeric characters.",/^[a-zA-Z0-9]*$/),w("email","{$alias} is not a valid email.",/^.+@.+\..+$/),w("url","{$alias} is not a valid URL.",/^(https?:\/\/)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)$/),w("uri","{$alias} is not a valid URI.",/^(\w+:\/\/)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)$/),w("phone","{$alias} is not a valid phone number.",/^1?\W*([2-9][0-8][0-9])\W*([2-9][0-9]{2})\W*([0-9]{4})(\se?x?t?(\d*))?$/),K.Rules.regex=function(e,t,n,a,i){var r;if(j(t)){var s=/^\/(.*)\/([gmi]*)$/.exec(t);s&&(r=new RegExp(s[1],s[2]))}else O(t)&&(r=t);if(!r)throw t+" is not a valid regular expression for the regex rule";var u=o("regex",i);return function(t,n,i){r.test(t)?i.next():i.invalid(h(e,a(e),t,n,u))}},K.Rules.regex.message="{$alias} is not a valid value.",l("required","{$alias} is required.",function(e){return k(e)}),y("min",{string:"{$alias} must have a minimum of {$number} characters.",number:"{$alias} must be at least {$number}.",object:"{$alias} must have at least {$number} items."},function(e,t){return t>e}),y("greater_than",{string:"{$alias} must have more than {$number} characters.",number:"{$alias} must be greater than {$number}.",object:"{$alias} must have more than {$number} items."},function(e,t){return t>=e}),y("max",{string:"{$alias} must have no more than {$number} characters.",number:"{$alias} must be no more than {$number}.",object:"{$alias} must have no more than {$number} items."},function(e,t){return e>t}),y("less_than",{string:"{$alias} must have less than {$number} characters.",number:"{$alias} must be less than {$number}.",object:"{$alias} must have less than {$number} items."},function(e,t){return e>=t}),y("equal",{string:"{$alias} must have {$number} characters.",number:"{$alias} must equal {$number}.",object:"{$alias} must have {$number} items."},function(e,t){return e!==t}),y("not_equal",{string:"{$alias} must not have {$number} characters.",number:"{$alias} must not equal {$number}.",object:"{$alias} must not have {$number} items."},function(e,t){return e===t}),l("array","{$alias} must be an array.",function(e){return!M(e)}),l("object","{$alias} must be an object.",function(e){return!z(e)}),l("string","{$alias} must be a string.",function(e){return!j(e)}),l("number","{$alias} must be a number.",function(e){return!T(e)}),l("boolean","{$alias} must be a true or false.",function(e){return!G(e)}),l("model","{$alias} must have a value.",function(e){return!(e instanceof q)}),l("whole","{$alias} must be a whole number.",function(e,t,n){var a=r(e),i=parseFloat(e),s=!T(a);return s||(s=Math.floor(a)!==i,s||n.update(a)),s}),l("numeric","{$alias} must be numeric.",function(e,t,n){var a=i(e),r=!T(a);return r||n.update(a),r}),l("yesno","{$alias} must be a yes or no.",function(e,t,n){var a=K.Rules.yesno.map[e],i=!G(a);return i||n.update(a),i}),K.Rules.yesno.map={"true":!0,t:!0,yes:!0,y:!0,1:!0,"false":!1,f:!1,no:!1,n:!1,0:!1},K.Rules.abs=function(e,t,n,a,r){return function(e,t,n){e=i(e),T(e)&&n.update(Math.abs(e)),n.next()}},K.Rules.apply=function(e,t,n,a,i){return function(t,n,a){n.$set(e,t),a.next()}},K.Rules.base64=function(t,n,a,i,r){return function(t,n,a){e.btoa&&a.update(e.btoa(t)),a.next()}},K.Rules.ceil=function(e,t,n,a,r){return function(e,t,n){e=i(e),T(e)&&n.update(Math.ceil(e)),n.next()}},K.Rules.endOfDay=function(e,t,n,a,i){return function(e,t,n){n.update(u(e)),n.next()}},K.Rules.filter=function(e,t,n,a,i){return function(e,t,n){if(M(e)){for(var a=e.length-1;a>=0;a--)P(e[a])||e.splice(a,1);n.update(e)}else if(z(e)){for(var i in e)P(e[i])||delete e[i];n.update(e)}n.next()}},K.Rules.floor=function(e,t,n,a,r){return function(e,t,n){e=i(e),T(e)&&n.update(Math.floor(e)),n.next()}},K.Rules.mod=function(e,t,n,a,r){var s=i(t);if(!T(s))throw'"'+s+'" is not a valid number for the mod rule.';return function(e,t,n){e=i(e),T(e)&&n.update(e%s),n.next()}},K.Rules["null"]=function(e,t,n,a,i){return function(t,n,a){n.$set(e,null),a.update(null),a.next()}},K.Rules.round=function(e,t,n,a,r){return function(e,t,n){e=i(e),T(e)&&n.update(Math.round(e)),n.next()}},K.Rules.startOfDay=function(e,t,n,a,i){return function(e,t,n){n.update(s(e)),n.next()}},K.Rules.stripEnts=function(e,t,n,a,i){return function(e,t,n){j(e)&&n.update(e.replace(/&[a-z]+;/gi,"")),n.next()}},K.Rules.stripTags=function(e,t,n,a,i){return function(e,t,n){j(e)&&n.update(e.replace(/<(?:.|\n)*?>/gm,"")),n.next()}},K.Rules.trim=function(e,t,n,a,i){var r=function(){if(String.prototype.trim)return function(e){return e.trim()};var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return function(t){return t.replace(e,"")}}();return function(e,t,n){j(e)&&n.update(r(e)),n.next()}},K.Rules.unbase64=function(t,n,a,i,r){return function(t,n,a){e.atob&&a.update(e.atob(t)),a.next()}},t.Validation=K,t.ruleGenerator=l,t.rangeRuleGenerator=R,t.collectionRuleGenerator=v,t.dateRuleGenerator=m,t.fieldListRuleGenerator=$,t.fieldsRuleGenerator=g,t.foreignRuleGenerator=p,t.subRuleGenerator=b,t.listRuleGenerator=x,t.regexRuleGenerator=w,t.sizeRuleGenerator=y,t.joinFriendly=f,t.tryParseFloat=i,t.tryParseInt=r,t.startOfDay=s,t.endOfDay=u,t.determineMessage=o,t.mapFromArray=c,t.checkNoParams=d,t.generateMessage=h,t});
//# sourceMappingURL=rekord-validation.min.js.map
